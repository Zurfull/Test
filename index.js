(function(o,u,i,s){"use strict";const d=u.findByProps("ChatInputSendButton"),f=u.findByProps("ChatInput","ChatInputMention"),p=u.findByProps("sendMessage","receiveMessage");let t=[];var l={onLoad:function(){t.push(s.patcher.before("type",d.ChatInputSendButton,function(n){n[0].canSendMessage=!1,n[0].canSendVoiceMessage=!1})),t.push(s.patcher.after("type",f.ChatInput,function(n,h){let[c]=n;const a=i.React.useRef(null);return i.React.useEffect(function(){const e=a.current;if(!e)return;const g=e.props.onSubmitEditing;return e.props.onSubmitEditing=async function(){const r=c?.textValue?.trim?.();!r||!c?.channel?.id||p.sendMessage(c.channel.id,{content:r,invalidEmojis:[],validNonShortcutEmojis:[]})},function(){e.props.onSubmitEditing=g}},[]),i.React.cloneElement(h,{ref:a})}))},onUnload:function(){for(const n of t)n?.();t=[]}};return o.default=l,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.metro.common,vendetta);
